# Файлы проекта NixOS + Hyprland

## Основные конфигурационные файлы

### `configuration.nix`
**Назначение**: Основная конфигурация NixOS  
**Описание**: Содержит системные настройки, пакеты, сервисы и пользователей  
**Особенности**: Настроен для пользователя `lav` с паролем `lav`, оптимизирован для VirtualBox  

### `hardware-configuration.nix`
**Назначение**: Конфигурация оборудования  
**Описание**: Специально адаптирован для VirtualBox с Guest Additions  
**Особенности**: Включает VirtualBox-специфичные драйвера и оптимизации  

### `hyprland.conf`
**Назначение**: Стандартная конфигурация Hyprland  
**Описание**: Базовые настройки для физического железа  
**Особенности**: Полные визуальные эффекты, все анимации  

### `hyprland-virtualbox.conf`
**Назначение**: VirtualBox-оптимизированная конфигурация Hyprland  
**Описание**: Упрощенная версия для лучшей производительности в ВМ  
**Особенности**: Отключены blur, shadows, уменьшены анимации  

### `waybar-config.json`
**Назначение**: Конфигурация панели Waybar  
**Описание**: Настройки модулей, позиционирования и функций панели  

### `waybar-style.css`
**Назначение**: Стили для Waybar  
**Описание**: CSS стили для внешнего вида панели  

## Скрипты

### `install-configs.sh`
**Назначение**: Автоматическая установка всех конфигураций  
**Функции**:
- Определение VirtualBox автоматически
- Создание бэкапов существующих конфигов
- Установка системных и пользовательских конфигураций
- Проверка зависимостей и совместимости
- Создание необходимых директорий

**Использование**: `sudo ./install-configs.sh`

### `diagnose-config.sh`
**Назначение**: Диагностика конфигурации системы  
**Функции**: Проверка состояния NixOS и Hyprland  

### `fix-config.sh`
**Назначение**: Исправление частых проблем  
**Функции**: Автоматическое исправление конфигураций  

## Документация

### `README.md`
**Назначение**: Основная документация проекта  
**Содержание**:
- Описание всех компонентов
- Инструкции по установке
- Горячие клавиши
- Основные команды

### `VIRTUALBOX.md`
**Назначение**: Специальная документация для VirtualBox  
**Содержание**:
- VirtualBox-специфичные настройки
- Оптимизации производительности
- Решение проблем
- Рекомендуемые настройки ВМ

### `PATHS.md`
**Назначение**: Справочник путей и структуры конфигураций  
**Содержание**:
- Системные пути NixOS
- Пользовательские конфигурации
- Home Manager пути
- Дополнительные директории

### `TROUBLESHOOTING.md`
**Назначение**: Решение проблем и отладка  
**Содержание**: Частые проблемы и их решения  

## Логика работы

### Автоматическое определение среды
Скрипт `install-configs.sh` автоматически:
1. Определяет VirtualBox через `systemd-detect-virt`
2. Выбирает подходящую конфигурацию Hyprland
3. Применяет соответствующие оптимизации

### Структура установки
```
Системные файлы (sudo):
├── /etc/nixos/configuration.nix
└── /etc/nixos/hardware-configuration.nix

Пользовательские файлы:
├── ~/.config/hypr/hyprland.conf
├── ~/.config/waybar/config
├── ~/.config/waybar/style.css
└── ~/.config/{kitty,rofi,mako,swayidle}/
```

### Workflow
1. **Подготовка**: Скачивание и проверка файлов
2. **Системная установка**: Копирование в `/etc/nixos/`
3. **Применение**: `sudo nixos-rebuild switch`
4. **Пользовательские настройки**: Копирование в `~/.config/`
5. **Завершение**: Перезагрузка или запуск Hyprland

## Особенности

### Пользователь по умолчанию
- **Имя**: `lav`
- **Пароль**: `lav` (рекомендуется сменить после входа)
- **Права**: wheel, networkmanager
- **Автологин**: включен

### VirtualBox оптимизации
- Автоматическое определение среды
- Специальная конфигурация Hyprland
- VirtualBox Guest Additions
- Оптимизированные драйвера
- Отключение ресурсоёмких эффектов

### Совместимость
- **NixOS**: 24.05+
- **Hyprland**: последняя стабильная версия
- **VirtualBox**: любая современная версия
